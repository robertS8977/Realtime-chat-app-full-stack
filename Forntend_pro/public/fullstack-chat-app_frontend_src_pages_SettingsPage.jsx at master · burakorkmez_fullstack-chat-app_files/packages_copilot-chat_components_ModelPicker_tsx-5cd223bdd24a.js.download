"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_copilot-chat_components_ModelPicker_tsx"],{12970:(e,i,l)=>{l.d(i,{z5:()=>D,Yb:()=>E,k:()=>A});var t,o=l(74848),a=l(21728),s=l(4817),r=l(77430),n=l(53419),d=l(13017),m=l(38621),c=l(87330),u=l(83294),p=l(5945),h=l(52446),g=l(81246),y=l(69948),f=l(12004),b=l(96665),v=l(39820),_=l(34164),x=l(96540),j=l(25641),M=l(73952),N=l(51213),k=l(35247),R=l(79064),w=l(2635),P=l(33592);let L=["o3-mini","Gemini 2.0 Flash"];var S=l(46062);let I={menuButton:"ModelPicker-module__menuButton--w_ML2",menuHeading:"ModelPicker-module__menuHeading--PBTLv",messageRetryButtonGroup:"ModelPicker-module__messageRetryButtonGroup--UkrjO",messageRetryDivider:"ModelPicker-module__messageRetryDivider--gIDae",messageRetryMenuButton:"ModelPicker-module__messageRetryMenuButton--rNpIr",messageRetryButton:"ModelPicker-module__messageRetryButton--DqHs5",modelNameDisabled:"ModelPicker-module__modelNameDisabled--Vhv9R",modelMetaLabel:"ModelPicker-module__modelMetaLabel--zMick",footer:"ModelPicker-module__footer--yCNLJ",buttonName:"ModelPicker-module__buttonName--Iid1H",loadingSpinner:"ModelPicker-module__loadingSpinner--BTsER"};var F=l(79184);let C="An error occurred while updating the policy";function E({onNewThreadSelected:e,limited:i,type:l="global",selectedModel:t,onModelSelected:a,disabled:s=!1}){let r=(0,P.b)(),{model:m,availableModels:c,mode:u,messages:p,currentReferences:h,selectedThreadID:g,modelsLoading:y,isWaitingOnCopilot:f,streamingMessage:b}=(0,w.Pk)(),{premiumInteractionsQuotaExceeded:v,overagesEnabled:_,plan:j}=(0,F.xR)(),L="pending"===y.state,{search:I,pathname:C}=(0,d.zy)(),E=(0,x.useRef)(!1),U=k.W.premiumRequestQuotasEnabled&&v&&!_,T=s;k.W.disableModelPickerWhileStreaming&&(T=s||f||null!==b);let[q,D]=(0,x.useState)(null),G=(0,x.useRef)(!1);function H(e){a?a(e):r.selectModel(e)}return(t||(t=m),(0,x.useEffect)(()=>{L&&r.fetchModels()},[r,L]),(0,x.useEffect)(()=>{if(!E.current&&!L&&c.length>1){let e=R.Jt.getModel(g)?.id,i=c.find(i=>i.id===e&&(U||e!==S.QA));(!i&&j||j!==N.UH.IndividualFree&&v&&!_)&&(i=(0,S.fZ)(c,j,v,_)),i&&(r.selectModel(i,!0),E.current=!0)}},[c,r,m,L,_,j,v,g,U]),(0,x.useEffect)(()=>{if("immersive"!==u)return;let e=new URLSearchParams(I).get("model");if(e&&("/copilot"===C||"/copilot/"===C)){if(m.id===e||G.current||!c?.length)return;G.current=!0;let i=c?.find(i=>i.id===e);i&&(r.selectModel(i,!1),(0,n.BI)("dotcom_chat.activate",{target:"COPILOT_MODEL_LOADED_FROM_URL",mode:"immersive"}))}},[c,r,u,m?.id,C,I]),c.length<2)?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(A,{selectedModel:t,models:c,type:l,onModelPicked:e=>{var i,o,a,s,r,d;"global"===l&&Y(t,e)||((0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_MODEL_SELECT",mode:"immersive",model:e.id,isUnchanged:Y(t,e),type:l}),Y(t,e)?H(e):(i=p,o=e,("message-retry"===l?(0,M.B)(i):i).some(e=>e.skillExecutions?.length)&&(!o.capabilities?.supports?.tool_calls||o.isThirdParty||"o1-ga"===o.capabilities.family))?D({model:e,command:{action:"requires-new-conversation",reason:"external-content"}}):(a=p,s=h,r=e,(("message-retry"===l?(0,M.B)(a):a).some(e=>e.mediaContent?.length)||s.some(e=>"image"===e.type))&&!r.capabilities?.supports?.vision)?D({model:e,command:{action:"requires-new-conversation",reason:"degraded-image-support"}}):(d=e).policy&&"enabled"!==d.policy.state?D({model:e,command:{action:"requires-policy-approval"}}):H(e))},limited:i,disabled:T,variant:"invisible",plan:j??void 0}),q?.command.action==="requires-new-conversation"&&(0,o.jsx)(O,{model:q.model,reason:q.command.reason,onDismiss:()=>{(0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_REQUIRES_NEW_CONVERSATION_CANCEL",mode:"immersive",model:q.model.id,type:l}),D(null)},onSwitch:async()=>{(0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_REQUIRES_NEW_CONVERSATION_CONFIRM",mode:"immersive",model:q.model.id,type:l}),D(null),await e(),r.selectModel(q.model)}}),q?.command.action==="requires-policy-approval"&&(0,o.jsx)(B,{model:q.model,mode:u,onDismiss:()=>{(0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_POLICY_CANCEL",mode:"immersive",model:q.model.id,type:l}),D(null)},onConfirm:async()=>{await r.acceptModelPolicy(q.model),r.selectModel(q.model),(0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_POLICY_CONFIRM",mode:"immersive",model:q.model.id,type:l}),D(null)}})]})}let U=x.forwardRef(function(e,i){let l,t,s,r,n,d,p,h,g,y=(0,a.c)(20);y[0]!==e?({selectedModel:r,onModelPicked:s,disabled:t,...l}=e,y[0]=e,y[1]=l,y[2]=t,y[3]=s,y[4]=r):(l=y[1],t=y[2],s=y[3],r=y[4]);let f=`Retry with ${r.displayName}`;return y[5]!==s||y[6]!==r?(n=()=>s(r),y[5]=s,y[6]=r,y[7]=n):n=y[7],y[8]!==t||y[9]!==f||y[10]!==n?(d=(0,o.jsx)(c.K,{variant:"invisible","aria-label":f,onClick:n,icon:m.SyncIcon,disabled:t,className:I.messageRetryButton}),y[8]=t,y[9]=f,y[10]=n,y[11]=d):d=y[11],y[12]===Symbol.for("react.memo_cache_sentinel")?(p=(0,o.jsx)("div",{className:I.messageRetryDivider}),y[12]=p):p=y[12],y[13]!==l||y[14]!==t?(h=(0,o.jsx)(c.K,{variant:"invisible",icon:m.TriangleDownIcon,"aria-label":"Retry with\u2026",disabled:t,className:I.messageRetryMenuButton,...l}),y[13]=l,y[14]=t,y[15]=h):h=y[15],y[16]!==i||y[17]!==d||y[18]!==h?(g=(0,o.jsxs)(u.A,{className:I.messageRetryButtonGroup,ref:i,children:[d,p,h]}),y[16]=i,y[17]=d,y[18]=h,y[19]=g):g=y[19],g});function A({selectedModel:e,models:i,onModelPicked:l,limited:t=!1,type:a,disabled:s,variant:r="invisible",plan:d}){let[m,c]=(0,x.useState)(!1),u=d===N.UH.IndividualFree?(()=>{let e=new Set(i.map(e=>e.displayName));return[...i,...V.filter(i=>!e.has(i.displayName)).map(W)]})():i,g=k.W.copilotChatModelCategorization,y=k.W.immersiveStructuredModelPicker&&function(e,i){if(!i)return e.some(e=>e.billing?.multiplier!==void 0)&&new Set(e.filter(e=>e.billing?.multiplier!==void 0).map(e=>e.billing?.multiplier)).size>1;{let i=e.some(e=>void 0!==e.model_picker_category)&&new Set(e.filter(e=>void 0!==e.model_picker_category).map(e=>e.model_picker_category)).size>1,l=e.some(e=>e.billing?.multiplier!==void 0)&&new Set(e.filter(e=>e.billing?.multiplier!==void 0).map(e=>e.billing?.multiplier)).size>1;return i||l}}(u,g),{lowTier:f,midTier:b,highTier:v,base:_,preview:M}=y?{lowTier:u.filter(e=>g&&void 0!==e.model_picker_category?"lightweight"===e.model_picker_category:e.billing&&(e.billing?.multiplier<1&&e.billing?.multiplier!==0||L.includes(e.displayName))||!1),midTier:u.filter(e=>g&&void 0!==e.model_picker_category?"versatile"===e.model_picker_category:e.billing&&(e.billing?.multiplier===1||e.billing?.multiplier===0)&&!L.includes(e.displayName)||!1),highTier:u.filter(e=>g&&void 0!==e.model_picker_category?"powerful"===e.model_picker_category:e.billing&&e.billing?.multiplier>1||!1),base:[],preview:[]}:{lowTier:[],midTier:[],highTier:[],base:u.filter(e=>!e.preview),preview:u.filter(e=>e.preview)},R=t?H:[],w=new Set(u.map(e=>e.vendor)).size>1,P=u.some(e=>e.isThirdParty),S=(0,x.useCallback)(i=>{let l=!s&&i;c(l),l&&(0,n.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_OPEN",mode:"immersive",model:e.id,type:a})},[s,e.id,a]),F=(0,x.useRef)(null),[C,E]=(0,x.useState)("down");return(0,o.jsx)("div",{ref:F,children:(0,o.jsxs)(p.W,{open:m,onOpenChange:S,children:["global"===a?(0,o.jsxs)(p.W.Button,{className:I.menuButton,variant:r??"invisible",disabled:s,children:[(0,o.jsx)("span",{className:"sr-only",children:"Model: "}),(0,o.jsx)("div",{className:I.buttonName,children:e.displayName})]}):(0,o.jsx)(p.W.Anchor,{"aria-label":"Retry with model",children:(0,o.jsx)(U,{selectedModel:e,onModelPicked:l,disabled:s})}),(0,o.jsxs)(p.W.Overlay,{width:"global"===a?"medium":"small",side:"outside-bottom",align:"end",onPositionChange:({position:e})=>{E(["inside-bottom","outside-bottom"].includes(e.anchorSide)?"down":"up")},children:[(0,o.jsxs)(h.l,{selectionVariant:"global"===a?"single":void 0,children:["message-retry"===a&&"down"===C&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(q,{selectedModel:e,onModelPicked:l}),(0,o.jsx)(h.l.Divider,{})]}),"global"===a&&(0,o.jsx)("div",{className:I.menuHeading,children:"Models"}),_.length>0&&(0,o.jsxs)(h.l.Group,{children:["global"!==a&&(0,o.jsx)(h.l.GroupHeading,{children:"Models"}),_.map(i=>(0,o.jsx)(D,{model:i,selected:Y(e,i)&&"global"===a,onModelPicked:l,hasMultipleVendors:w,hasThirdPartyModel:P},i.id))]}),f.length>0&&(0,o.jsxs)(h.l.Group,{children:[(0,o.jsx)(h.l.GroupHeading,{children:"Fast and cost-efficient"}),f.map(i=>(0,o.jsx)(D,{model:i,selected:Y(e,i)&&"global"===a,onModelPicked:l,hasMultipleVendors:w,hasThirdPartyModel:P},i.id)),(b.length>0||v.length>0)&&(0,o.jsx)(h.l.Divider,{})]}),b.length>0&&(0,o.jsxs)(h.l.Group,{children:[(0,o.jsx)(h.l.GroupHeading,{children:"Versatile and highly intelligent"}),b.map(i=>(0,o.jsx)(D,{model:i,selected:Y(e,i)&&"global"===a,onModelPicked:l,hasMultipleVendors:w,hasThirdPartyModel:P},i.id)),v.length>0&&(0,o.jsx)(h.l.Divider,{})]}),v.length>0&&(0,o.jsxs)(h.l.Group,{children:[(0,o.jsx)(h.l.GroupHeading,{children:"Most powerful at complex tasks"}),v.map(i=>(0,o.jsx)(D,{model:i,selected:Y(e,i)&&"global"===a,onModelPicked:l,hasMultipleVendors:w,hasThirdPartyModel:P},i.id))]}),(M.length>0||R.length>0)&&(0,o.jsxs)(h.l.Group,{children:[(0,o.jsx)(h.l.GroupHeading,{children:"Preview"}),M.map(i=>(0,o.jsx)(D,{model:i,selected:Y(e,i)&&"global"===a,onModelPicked:l,hasMultipleVendors:w,hasThirdPartyModel:P},i.id)),R.map(e=>(0,o.jsxs)(h.l.LinkItem,{href:k.W.freeToPaidUpgradeToProFromModels?j.Zr:j.Zs,children:[(0,o.jsx)(h.l.LeadingVisual,{children:(0,o.jsx)(G,{model:e})}),e.displayName,(0,o.jsx)(h.l.Description,{variant:"block",truncate:!0,children:e.vendor}),(0,o.jsx)(h.l.TrailingVisual,{children:(0,o.jsx)("div",{className:"fgColor-muted",children:"Upgrade"})})]},e.id))]}),"message-retry"===a&&"up"===C&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.l.Divider,{}),(0,o.jsx)(q,{selectedModel:e,onModelPicked:l})]})]}),k.W.premiumRequestQuotasEnabled&&(0,o.jsx)(T,{})]})]})})}function T(){let e,i=(0,a.c)(35),{plan:l,premiumChatQuotaRemaining:t,premiumInteractionsQuotaExceeded:s,chatQuotaRemaining:r,chatQuotaExceeded:n,canPurchaseAdditionalQuota:d,canUpgradePlan:m,overagesEnabled:c,resetDate:u}=(0,F.xR)(),p=null;if(l===N.UH.IndividualFree)if(n){let e;i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used all requests available this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"}),"."]}),i[0]=e):e=i[0],p=e}else if(r<=j.fG){let e;i[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.fG,"% of your free requests this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to increase your limit."]}),i[1]=e):e=i[1],p=e}else{let e;i[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to access more models and higher limits."]}),i[2]=e):e=i[2],p=e}if(l===N.UH.IndividualPro){if(s&&c){let e,l;i[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.MB,children:"Manage billing"}),i[3]=e):e=i[3],i[4]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month. You will be charged per premium request until the limit resets on ",u,"."," ",e]}),i[4]=u,i[5]=l):l=i[5],p=l}else if(s&&!c){let e,l;i[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"}),i[6]=e):e=i[6],i[7]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to increase your limit. Limit resets on ",u,"."]}),i[7]=u,i[8]=l):l=i[8],p=l}else if(t<=j.mF&&!c){let e;i[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to increase your limit."]}),i[9]=e):e=i[9],p=e}}if(l===N.UH.IndividualProPlus){if(s&&c){let e,l;i[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.MB,children:"Manage billing"}),i[10]=e):e=i[10],i[11]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month. You will be charged per premium request until the limit resets on ",u,"."," ",e]}),i[11]=u,i[12]=l):l=i[12],p=l}else if(s&&!c){let e,l;i[13]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"}),i[13]=e):e=i[13],i[14]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to get more. Limit resets on ",u,"."]}),i[14]=u,i[15]=l):l=i[15],p=l}else if(t<=j.mF&&!c){let e;i[16]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"})," ","to get more."]}),i[16]=e):e=i[16],p=e}}if(l===N.UH.Business)if(s&&!c&&m){let e,l;i[17]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"}),i[17]=e):e=i[17],i[18]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to increase your limit. Limit resets on ",u,"."]}),i[18]=u,i[19]=l):l=i[19],p=l}else if(t<=j.mF&&!c&&m){let e;i[20]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to increase your limit."]}),i[20]=e):e=i[20],p=e}else if(!s||c||m){if(t<=j.mF&&!c&&!m){let e;i[24]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,o.jsx)("span",{className:"font-weight-bold",children:"Ask your admin to upgrade "}),"to increase your limit."]}),i[24]=e):e=i[24],p=e}}else{let e,l;i[21]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)("span",{className:"font-weight-bold",children:"Ask your admin to upgrade "}),i[21]=e):e=i[21],i[22]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have reached your monthly limit for premium requests."," ",e,"to increase your limit. Limit resets on ",u,"."]}),i[22]=u,i[23]=l):l=i[23],p=l}if(l===N.UH.Enterprise)if(s&&!c&&d){let e,l;i[25]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"}),i[25]=e):e=i[25],i[26]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to increase your limit. Limit resets on ",u,"."]}),i[26]=u,i[27]=l):l=i[27],p=l}else if(!s||c||d){if(t<=j.mF&&!c&&d){let e;i[31]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,o.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"})," ","to get more usage after the limit is reached."]}),i[31]=e):e=i[31],p=e}else if(t<=j.mF&&!c&&!d){let e;i[32]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)(o.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month. Ask your admin to"," ",(0,o.jsx)("span",{className:"font-weight-bold",children:"enable additional requests "}),"to get more usage."]}),i[32]=e):e=i[32],p=e}}else{let e,l;i[28]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)("span",{className:"font-weight-bold",children:"enable additional requests "}),i[28]=e):e=i[28],i[29]!==u?(l=(0,o.jsxs)(o.Fragment,{children:["You have reached your monthly limit for premium requests. Ask your admin to"," ",e,"to get more usage. Limit resets on ",u,"."]}),i[29]=u,i[30]=l):l=i[30],p=l}return i[33]!==p?(e=p?(0,o.jsx)("div",{className:I.footer,children:p}):null,i[33]=p,i[34]=e):e=i[34],e}function q(e){let i,l,t,s,r=(0,a.c)(10),{selectedModel:n,onModelPicked:d}=e;return r[0]!==d||r[1]!==n?(i=()=>d(n),r[0]=d,r[1]=n,r[2]=i):i=r[2],r[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,o.jsx)(h.l.LeadingVisual,{children:(0,o.jsx)(m.SyncIcon,{})}),r[3]=l):l=r[3],r[4]!==n.displayName?(t=(0,o.jsx)(h.l.Description,{variant:"block",truncate:!0,children:n.displayName}),r[4]=n.displayName,r[5]=t):t=r[5],r[6]!==n.id||r[7]!==i||r[8]!==t?(s=(0,o.jsxs)(h.l.Item,{onSelect:i,children:[l,"Try again",t]},n.id),r[6]=n.id,r[7]=i,r[8]=t,r[9]=s):s=r[9],s}function D(e){let i,l,t,s,r,n,d,m,c=(0,a.c)(31),{model:u,selected:p,onModelPicked:g,hasMultipleVendors:y,hasThirdPartyModel:f}=e,{plan:b,premiumInteractionsQuotaExceeded:v,chatQuotaExceeded:x,overagesEnabled:j}=(0,F.xR)(),M=b===N.UH.IndividualFree&&x,R=u.billing?.is_premium&&b!==N.UH.IndividualFree&&v&&!j;c[0]!==u.billing?.restricted_to||c[1]!==b?(i=b&&u.billing?.restricted_to&&!u.billing?.restricted_to.includes(b),c[0]=u.billing?.restricted_to,c[1]=b,c[2]=i):i=c[2];let w=i,P="upsellModel"in u&&!0===u.upsellModel,L=M||R||w||P,C=u.id;c[3]!==u||c[4]!==g?(l=()=>g(u),c[3]=u,c[4]=g,c[5]=l):l=c[5];let E=!!L;c[6]!==y||c[7]!==f||c[8]!==u?(t=(y||f)&&(0,o.jsx)(h.l.LeadingVisual,{children:(0,o.jsx)(G,{model:u})}),c[6]=y,c[7]=f,c[8]=u,c[9]=t):t=c[9];let U=L&&I.modelNameDisabled;return c[10]!==U?(s=(0,_.$)(U),c[10]=U,c[11]=s):s=c[11],c[12]!==u.displayName||c[13]!==s?(r=(0,o.jsx)("span",{className:s,children:u.displayName}),c[12]=u.displayName,c[13]=s,c[14]=r):r=c[14],c[15]!==u.id||c[16]!==u.preview?(n=k.W.premiumRequestQuotasEnabled&&u.preview&&u.id!==S.QA&&(0,o.jsx)("span",{className:I.modelMetaLabel,children:"Preview"}),c[15]=u.id,c[16]=u.preview,c[17]=n):n=c[17],c[18]!==y||c[19]!==f||c[20]!==u.vendor?(d=!k.W.premiumRequestQuotasEnabled&&(y||f)&&(0,o.jsx)(h.l.Description,{variant:"block",truncate:!0,children:u.vendor}),c[18]=y,c[19]=f,c[20]=u.vendor,c[21]=d):d=c[21],c[22]!==u.id||c[23]!==p||c[24]!==d||c[25]!==l||c[26]!==E||c[27]!==t||c[28]!==r||c[29]!==n?(m=(0,o.jsxs)(h.l.Item,{onSelect:l,selected:p,disabled:E,children:[t,r,n,d]},C),c[22]=u.id,c[23]=p,c[24]=d,c[25]=l,c[26]=E,c[27]=t,c[28]=r,c[29]=n,c[30]=m):m=c[30],m}function O(e){let i,l,t,s,r=(0,a.c)(13),{model:n,onDismiss:d,onSwitch:m,reason:c}=e;return r[0]!==d||r[1]!==m?(i=e=>"confirm"===e?m():d(),r[0]=d,r[1]=m,r[2]=i):i=r[2],r[3]!==n||r[4]!==c?(l="external-content"===c&&(0,o.jsxs)("p",{children:["The ",n.displayName," model currently doesn\u2019t support external context from ongoing conversations. Start a new conversation to chat with this model."]}),r[3]=n,r[4]=c,r[5]=l):l=r[5],r[6]!==n||r[7]!==c?(t="degraded-image-support"===c&&(0,o.jsxs)("p",{children:["The ",n.displayName," model doesn\u2019t support answering questions about images. Start a new conversation without images to chat with this model."]}),r[6]=n,r[7]=c,r[8]=t):t=r[8],r[9]!==i||r[10]!==l||r[11]!==t?(s=(0,o.jsxs)(y.K,{title:"Switch model",onClose:i,confirmButtonContent:"New conversation",confirmButtonType:"primary",children:[l,t]}),r[9]=i,r[10]=l,r[11]=t,r[12]=s):s=r[12],s}function B({model:e,mode:i,onDismiss:l,onConfirm:t}){let[a,r]=(0,x.useState)(null),[d,m]=(0,x.useState)(!1),c=e.policy?.terms??"",u=async()=>{try{m(!0),await t(),r(null)}catch{r(C),(0,n.BI)("dotcom_chat.activate.error",{target:"ERROR_MODEL_POLICY",mode:i,message:C})}finally{m(!1)}};return(0,o.jsxs)(b.l,{width:"large",onClose:l,title:`Enable ${e.displayName}`,footerButtons:[{buttonType:"default",content:"Cancel",onClick:l},{buttonType:"primary",content:d?(0,o.jsx)(f.A,{size:"small",className:I.loadingSpinner}):"Enable",onClick:()=>void u()}],children:[a&&(0,o.jsx)(v.l,{title:"Error",variant:"critical",children:a}),(0,o.jsx)(s.To,{markdown:c})]})}function G(e){let i,l=(0,a.c)(3),{model:t}=e;return l[0]!==t.logoURL||l[1]!==t.vendor?(i=t.logoURL?(0,o.jsx)(r.r,{alt:`${t.vendor} logo`,square:!0,size:18,src:t.logoURL}):(0,o.jsx)(m.CopilotIcon,{}),l[0]=t.logoURL,l[1]=t.vendor,l[2]=i):i=l[2],i}function Y(e,i){return e.id===i.id}let H=[{id:"claude-3.7-sonnet-upgrade",displayName:"Claude 3.7 Sonnet",vendor:"Anthropic",logoURL:"/images/modules/marketplace/models/families/anthropic.svg"},{id:"o1-upgrade",displayName:"o1",vendor:"Azure OpenAI",logoURL:"/images/modules/marketplace/models/families/openai.svg"}];function W(e){let i=e.logoURL?.includes("anthropic")?"Anthropic":e.logoURL?.includes("openai")?"Azure OpenAI":e.logoURL?.includes("gemini")?"Google":"Unknown";return{...e,name:e.displayName,version:"1.0",vendor:i,model_picker_enabled:!0,hasLimitedCapabilities:!1,isThirdParty:"Azure OpenAI"!==i,capabilities:{family:"unknown",limits:{max_prompt_tokens:4096},supports:{},tokenizer:"gpt",type:"chat"},preview:e.preview??!1,billing:{...e.billing,is_premium:!0}}}let V=[{id:"o4-mini-upgrade",displayName:"o4-mini",logoURL:"/images/modules/marketplace/models/families/openai.svg",upsellModel:!0,preview:!0,billing:{multiplier:.33}},{id:"claude-3.7-sonnet-upgrade",displayName:"Claude Sonnet 3.7",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:1}},{id:"claude-sonnet-4-upgrade",displayName:"Claude Sonnet 4",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:1}},{id:"gemini-2.5-pro-upgrade",displayName:"Gemini 2.5 Pro",logoURL:"/images/modules/marketplace/models/families/gemini.svg",upsellModel:!0,preview:!0,billing:{multiplier:1}},{id:"o3-upgrade",displayName:"o3",logoURL:"/images/modules/marketplace/models/families/openai.svg",upsellModel:!0,preview:!0,billing:{multiplier:1}},{id:"gpt-5",displayName:"GPT-5",logoURL:"/images/modules/marketplace/models/families/openai.svg",upsellModel:!0,preview:!0,billing:{multiplier:1}},{id:"claude-3-7-thinking-upgrade",displayName:"Claude Sonnet 3.7 Thinking",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:10}},{id:"claude-opus-4-upgrade",displayName:"Claude Opus 4",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:10}}];try{E.displayName||(E.displayName="ModelPicker")}catch{}try{U.displayName||(U.displayName="RetryButtonGroup")}catch{}try{(t=RetryButtonGroupWithRef).displayName||(t.displayName="RetryButtonGroupWithRef")}catch{}try{A.displayName||(A.displayName="ModelPickerDesign")}catch{}try{T.displayName||(T.displayName="ModelPickerFooter")}catch{}try{q.displayName||(q.displayName="RetryListItem")}catch{}try{D.displayName||(D.displayName="ModelListItem")}catch{}try{O.displayName||(O.displayName="NewConversationConfirmationDialog")}catch{}try{B.displayName||(B.displayName="ModelPolicyConfirmationDialog")}catch{}try{G.displayName||(G.displayName="ModelVendorIcon")}catch{}}}]);
//# sourceMappingURL=packages_copilot-chat_components_ModelPicker_tsx-0fbafa2e42ea.js.map